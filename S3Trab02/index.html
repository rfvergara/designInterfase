<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="codigo_da_DIV">
      <header>
        <div id="cardId"></div>
        <div id="saida" aria-live="polite"></div>
        <br />
      </header>
      <nav>
        <a href="/">Logo</a>
        <ul class="menu">
          <li><a href="/">Sobre</a></li>
          <li><a href="/">Produto</a></li>
          <li><a href="/">Contato</a></li>
        </ul>
      </nav>
      <main>
        <section>
          <div><h1>Série A</h1></div>
          <div class="container">
            <div class="formulario">
              <!-- Formulário de inserção -->
              <form>
                <fieldset>
                  <legend>Jogo</legend>
                  <div class="formularios">
                    <div>
                      <select name="mandante" id="mandante">
                        <option selected disabled>Mandante</option>
                        <option>Atlético-MG</option>
                        <option>Bahia</option>
                        <option>Botafogo</option>
                        <option>Ceará</option>
                        <option>Corinthians</option>
                        <option>Cruzeiro</option>
                        <option>Flamengo</option>
                        <option>Fluminense</option>
                        <option>Juventude</option>
                        <option>Grêmio</option>
                        <option>Internacional</option>
                        <option>Mirassol</option>
                        <option>Palmeiras</option>
                        <option>RB Bragantino</option>
                        <option>Santos</option>
                        <option>São Paulo</option>
                        <option>Sport</option>
                        <option>Vasco</option>
                        <option>Vitória</option>
                      </select>
                    </div>
                    <p>x</p>
                    <div>
                      <select name="visitante" id="visitante">
                        <option selected disabled>Visitante</option>
                        <option>Atlético-MG</option>
                        <option>Bahia</option>
                        <option>Botafogo</option>
                        <option>Ceará</option>
                        <option>Corinthians</option>
                        <option>Cruzeiro</option>
                        <option>Flamengo</option>
                        <option>Fluminense</option>
                        <option>Juventude</option>
                        <option>Grêmio</option>
                        <option>Internacional</option>
                        <option>Mirassol</option>
                        <option>Palmeiras</option>
                        <option>RB Bragantino</option>
                        <option>Santos</option>
                        <option>São Paulo</option>
                        <option>Sport</option>
                        <option>Vasco</option>
                        <option>Vitória</option>
                      </select>
                    </div>
                  </div>

                  <div class="informacao">
                    <div>
                      <label for="rodada">Rodada:</label>
                      <input
                        type="text"
                        id="rodada"
                        placeholder="Ex: Rodada 21"
                      />
                    </div>
                    <div>
                      <label for="data">Data:</label>
                      <input type="date" id="data" />
                    </div>
                    <div>
                      <label for="placar">Placar:</label>
                      <input type="text" id="placar" placeholder="Ex: 3x1" />
                    </div>
                  </div>

                  <div class="btn">
                    <button class="adicionar">Adicionar</button>
                    <button class="deletar">Deletar</button>
                  </div>
                </fieldset>
              </form>

              <!-- Formulário de configuração da tabela -->
              <form>
                <fieldset class="pos">
                  <legend>Configurações da tabela</legend>
                  <div class="setTabela">
                    <div>
                      <label for="corLetra">Texto:</label>
                      <select id="corLetra">
                        <option value="default">Default</option>
                        <option value="black">Preto</option>
                        <option value="red">Vermelho</option>
                        <option value="blue">Azul</option>
                        <option value="green">Verde</option>
                        <option value="orange">Laranja</option>
                        <option value="purple">Roxo</option>
                      </select>
                    </div>
                    <div>
                      <label for="corFundo">Fundo:</label>
                      <select id="corFundo">
                        <option value="default">Default</option>
                        <option value="white">Branco</option>
                        <option value="lightyellow">Amarelo Claro</option>
                        <option value="lightblue">Azul Claro</option>
                        <option value="lightgreen">Verde Claro</option>
                        <option value="lightgray">Cinza Claro</option>
                      </select>
                    </div>
                    <div>
                      <label for="corBorda">Bordas:</label>
                      <select id="corBorda">
                        <option value="default">Default</option>
                        <option value="gray">Cinza</option>
                        <option value="black">Preto</option>
                        <option value="red">Vermelho</option>
                        <option value="blue">Azul</option>
                        <option value="green">Verde</option>
                      </select>
                    </div>
                  </div>
                  <div class="btn">
                    <button class="estilo" type="submit">
                      Aplicar Estilos
                    </button>
                  </div>
                </fieldset>
              </form>
            </div>

            <!-- Div da tabela -->
            <div class="tabela">
              <table>
                <caption>
                  Informações dos jogos
                </caption>
                <thead>
                  <tr>
                    <th>Rodada</th>
                    <th>Data</th>
                    <th>Mandante</th>
                    <th>Visitante</th>
                    <th>Placar</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Começa vazia -->
                </tbody>
                <tfoot>
                  <!--<tr><td></td><td></td></tr>-->
                </tfoot>
              </table>
            </div>
          </div>
        </section>
      </main>
      <footer>
        <div id="saidaFooter" aria-live="polite"></div>
      </footer>
    </div>
    <br />
    <div id="configurar">
      <!--Inserir imagem-->
      <label for="texto">Inserir imagem: </label>
      <br />
      <input type="file" id="selectImageId" accept="image/*" />
      <br />
      <button type="button" id="removeImageId">Remover Imagem</button>
      <br /><br />
      <hr />

      <!--Inserir e configurar texto do cabeçalho-->
      <label for="texto">Inserir e configurar texto para o cabeçalho:</label
      ><br />
      <input id="texto" type="text" placeholder="Escreva aqui..." /><br />
      <button id="inserir">Inserir na div</button>
      <button id="limparCaixa">Limpar caixa</button>
      <button id="limparDiv">Limpar div</button><br /><br />

      <!-- Controle de tamanho da fonte -->
      <label for="fontRange">Tamanho da fonte:</label><br />
      <input id="fontRange" type="range" min="10" max="50" value="16" />
      <span id="valorFonte">16px</span><br /><br />

      <!-- Controle de cor do texto -->
      <label for="colorPicker">Cor do texto:</label><br />
      <input id="colorPicker" type="color" value="#000000" />
      <span id="valorCor">#000000</span><br /><br />
      <hr />

      <!--Inserir texto roda-pé-->
      <label for="textoFooter">Inserir texto para o rodapé:</label><br />
      <input id="textoFooter" type="text" placeholder="Escreva aqui..." /><br />
      <button id="inserirFooter">Inserir na div</button>
      <button id="limparCaixaFooter">Limpar caixa</button>
      <button id="limparDivFooter">Limpar div</button><br /><br />
      <hr />

      <!--gerar/gravar/deletar-->
      Localhost: <br />
      <button id="botaoGravar">Gravar lista no localstorage</button><br />
      <button id="botaoRecuperar">Recuperar e Mostrar lista</button><br />
      <button id="botaoRemover">Remover lista do localstorage</button><br />
    </div>
    <br />
    <div id="resultado">
      Cópia
      <div id="copia">...</div>
      <hr />
      Código
      <div id="codigo">...</div>
    </div>

    <script>
      //NAV - MAIN
      document.addEventListener("DOMContentLoaded", function () {
        // Botões
        var botaoAdicionar = document.querySelector(".adicionar");
        var botaoDeletar = document.querySelector(".deletar");
        var botaoEstilo = document.querySelector(".estilo");

        // Tabela
        var tabelaDiv = document.querySelector(".tabela");
        var tabela = document.querySelector(".tabela table");
        var tbody = tabela.querySelector("tbody");

        // Tabela invisivel
        tabelaDiv.style.display = "none";

        // Botão adicionar
        botaoAdicionar.addEventListener("click", function (evento) {
          evento.preventDefault();

          var rodada = document.getElementById("rodada").value;
          var data = document.getElementById("data").value;
          var placar = document.getElementById("placar").value;
          var mandante = document.getElementById("mandante").value;
          var visitante = document.getElementById("visitante").value;

          if (
            rodada === "" ||
            data === "" ||
            placar === "" ||
            mandante === "Mandante" ||
            visitante === "Visitante"
          ) {
            alert("Preencha todos os campos!");
            return;
          }

          tabelaDiv.style.display = "block";

          var linha = document.createElement("tr");
          linha.innerHTML =
            "<td>" +
            rodada +
            "</td>" +
            "<td>" +
            data +
            "</td>" +
            "<td>" +
            mandante +
            "</td>" +
            "<td>" +
            visitante +
            "</td>" +
            "<td>" +
            placar +
            "</td>";

          tbody.appendChild(linha);

          // Limpa os campos
          document.getElementById("rodada").value = "";
          document.getElementById("data").value = "";
          document.getElementById("placar").value = "";
          document.getElementById("mandante").selectedIndex = 0;
          document.getElementById("visitante").selectedIndex = 0;
        });

        // Botão deletar
        botaoDeletar.addEventListener("click", function (evento) {
          evento.preventDefault();
          tbody.innerHTML = "";
          tabelaDiv.style.display = "none";
        });

        // Botão estilos
        botaoEstilo.addEventListener("click", function (evento) {
          evento.preventDefault();

          var corLetra = document.getElementById("corLetra").value;
          var corFundo = document.getElementById("corFundo").value;
          var corBorda = document.getElementById("corBorda").value;

          if (corLetra !== "default") {
            tabela.style.color = corLetra;
          } else {
            tabela.style.color = "";
          }

          if (corFundo !== "default") {
            tabela.style.backgroundColor = corFundo;
          } else {
            tabela.style.backgroundColor = "";
          }

          if (corBorda !== "default") {
            tabela.style.border = "2px solid " + corBorda;
            var celulas = tabela.querySelectorAll("th, td");
            for (var i = 0; i < celulas.length; i++) {
              celulas[i].style.border = "1px solid " + corBorda;
            }
          } else {
            tabela.style.border = "";
            var celulas = tabela.querySelectorAll("th, td");
            for (var i = 0; i < celulas.length; i++) {
              celulas[i].style.border = "";
            }
          }
        });
      });

      // Inserir uma figura
      const card = document.querySelector("#cardId");
      const uploadImageButton = document.querySelector("#selectImageId");
      const removeImageButton = document.querySelector("#removeImageId");
      uploadImageButton.addEventListener("change", uploadImageFunc);
      removeImageButton.addEventListener("click", removeImageFunc);
      let cardImageElement = null;

      function uploadImageFunc(event) {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.readAsDataURL(file);
          reader.onload = function (e) {
            if (!cardImageElement) {
              cardImageElement = document.createElement("img");
              card.appendChild(cardImageElement);
            }
            cardImageElement.src = e.target.result;
            cardImageElement.style.width = "5%";
          };
        }
      }

      function removeImageFunc() {
        if (cardImageElement) {
          card.removeChild(cardImageElement);
          cardImageElement = null;
          uploadImageButton.value = "";
        }
      }

      //Inserir texto e ajustar configuraçõa do cabeçalho
      const input = document.getElementById("texto");
      const btnInserir = document.getElementById("inserir");
      const btnLimparCaixa = document.getElementById("limparCaixa");
      const btnLimparDiv = document.getElementById("limparDiv");
      const saida = document.getElementById("saida");

      // Inserir texto na div e formatar
      btnInserir.addEventListener("click", () => {
        const valor = input.value.trim();
        if (valor) saida.textContent = valor;
      });

      // Limpar a caixa de texto
      btnLimparCaixa.addEventListener("click", () => {
        input.value = "";
        input.focus();
      });

      // Limpar o conteúdo da div
      btnLimparDiv.addEventListener("click", () => {
        saida.textContent = "";
      });

      // Permitir enviar com Enter
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          btnInserir.click();
        }
      });

      // Alterar tamanho da fonte
      fontRange.addEventListener("input", () => {
        const tamanho = fontRange.value + "px";
        saida.style.fontSize = tamanho;
        valorFonte.textContent = tamanho;
      });

      // Alterar cor do texto
      colorPicker.addEventListener("input", () => {
        const cor = colorPicker.value;
        saida.style.color = cor;
        valorCor.textContent = cor;
      });

      //Inserir texto roda-pé
      const inputFooter = document.getElementById("textoFooter");
      const btnInserirFooter = document.getElementById("inserirFooter");
      const btnLimparCaixaFooter = document.getElementById("limparCaixaFooter");
      const btnLimparDivFooter = document.getElementById("limparDivFooter");
      const saidaFooter = document.getElementById("saidaFooter");

      // Inserir texto na div do rodapé
      btnInserirFooter.addEventListener("click", () => {
        const valor = inputFooter.value.trim();
        if (valor) saidaFooter.textContent = valor;
      });

      // Limpar a caixa de texto do rodapé
      btnLimparCaixaFooter.addEventListener("click", () => {
        inputFooter.value = "";
        inputFooter.focus();
      });

      // Limpar o conteúdo da div do rodapé
      btnLimparDivFooter.addEventListener("click", () => {
        saidaFooter.textContent = "";
      });

      // Permitir enviar com Enter no rodapé
      inputFooter.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          btnInserirFooter.click();
        }
      });

      //LOCALHOST
      function gravar() {
        let stringLista = document.querySelector("#codigo_da_DIV").outerHTML;
        localStorage.setItem("chaveLista", stringLista);
      }
      function recuperar() {
        let stringLista = localStorage.getItem("chaveLista");
        document.querySelector("#copia").innerHTML = stringLista;
        document.querySelector("#codigo").textContent = stringLista;
      }
      function remover() {
        localStorage.removeItem("chaveLista");
        document.querySelector("#copia").innerHTML = "...";
        document.querySelector("#codigo").innerHTML = "...";
      }

      document.querySelector("#botaoGravar").addEventListener("click", gravar);
      document
        .querySelector("#botaoRecuperar")
        .addEventListener("click", recuperar);
      document
        .querySelector("#botaoRemover")
        .addEventListener("click", remover);
    </script>
  </body>
</html>
